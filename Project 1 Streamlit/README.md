## Файл `analysis.py`

Файл `analysis.py` содержит функции для анализа температурных данных и работы с API OpenWeatherMap.

- `analyze_city` — рассчитывает скользящее среднее, стандартное отклонение и определяет аномалии во временном ряду температуры для одного города.

- `analyze_all_cities` — последовательно применяет анализ ко всем городам.

- `analyze_all_cities_parallel` — параллельная версия анализа по городам с использованием `ProcessPoolExecutor` (используется для эксперимента по сравнению скорости выполнения).

- `compute_season_stats` — считает среднюю температуру и стандартное отклонение для каждого сезона в каждом городе.

- `get_current_temperature_sync` / `get_current_temperature_async` — получают текущую температуру города через OpenWeatherMap API синхронным и асинхронным способом.

- `check_current_temperature_anomaly` — проверяет, является ли текущая температура аномальной относительно исторической нормы соответствующего сезона.

## Файл `streamlit_app.py`

Файл `streamlit_app.py` реализует интерактивное веб-приложение для анализа температурных данных с использованием Streamlit.

Приложение позволяет:

- загрузить CSV-файл с историческими температурными данными и выполнить базовую проверку корректности входных данных;

- выбрать город из выпадающего списка;

- отобразить описательную статистику по температуре для выбранного города (период наблюдений, среднее, стандартное отклонение, минимум и максимум);

- визуализировать временной ряд температуры с использованием скользящего среднего и границ нормы, а также выделить аномалии;

- фильтровать отображаемые данные по году, месяцу, сезону или произвольному временному промежутку;

- получить текущую температуру выбранного города через OpenWeatherMap API и определить, является ли она аномальной относительно исторической нормы соответствующего сезона;

- отобразить сезонные профили температуры (среднее значение и стандартное отклонение по сезонам).

Все графики реализованы с использованием Plotly и являются интерактивными.

## Эксперимент с распараллеливанием анализа

Было проведено сравнение времени выполнения анализа температурных данных в последовательном и параллельном режимах.

Результаты эксперимента:

- Последовательное выполнение: 0.089 сек  
- Параллельное выполнение (ProcessPoolExecutor): 1.385 сек  

### Вывод

На текущем объёме данных параллельная версия оказалась медленнее последовательной из-за накладных расходов на создание процессов и передачу данных между ними.

При малом количестве городов и относительно небольшом размере данных использование распараллеливания нецелесообразно.

Однако при увеличении числа городов и объёма данных параллельный подход может масштабироваться лучше и потенциально дать выигрыш по времени выполнения.